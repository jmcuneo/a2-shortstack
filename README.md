Assignment 2 - Short Stack: Basic Two-tier Web Application using HTML/CSS/JS and Node.js  
===
--- 

## [Robotics] Part Calculator Tool
My site is a calculator that records the parts needed to build a project (in my case, a combat robot) and information about those parts. Before I made this site, I was recording my part list and weight calculations manually and was hoping for a better way to handle this task. With my derived field **Weight**, this process becomes automatic, as long as the user knows the weight per unit (this field is easy to find on a CAD build).

When you are ready to try out the site, go to: https://a2-briannasahagian.glitch.me/

I used a flexbox layout on the site for positioning, with containers for the text and images. The text flexbox has a `flex-direction: column` while the image flexbox has a `flex-direction: row` to reflect the different layout needs.

In order to use the `Add/Modify Part` functionality of the site, the user should simply enter the **Part Name**, **Material**, **Quantity**, and **Weight per Unit** associated with their entry. For instance, one Spinner made of Steel at 0.5lbs per unit. It is important to note that for the **Weight per Unit** field, only numeric values above 0 will be recognized as valid input. For the **Quantity** field specifically, only integer values above 0 will be recognized as valid input. The button will either add a new entry with the specified fields if no parts with the entered **Part Name** exist in the table or will modify the fields of the existing entry that matches the entered **Part Name**.

To use the `Remove Part` functionality of the site, the user should enter the **Part Name** of the entry they wish to remove. If there is an entry in the table with that name, it will be removed and the table will update. Otherwise, nothing will happen (so spelling is *IMPORTANT*).

---
## Technical Achievements
- **Single-Page Application**: On this site, the table responds in real time to `Add Part`, `Modify Part`, and `Remove Part` requests to show the current state of the server-side data. To achieve coordination between the index HTML page, client-side JS, and server-side JS I implemented a few key functions:<br>
&nbsp; [1] The asynchronous POST request functions in the client-side JS file. `add()` queries the input fields in the add/modify part form for the user input and then sends this information in a POST request to the server. `remove()` does the same with the input field in the remove part form. After sending their POST requests, both functions make a call to the `constructTable()` function (described below) to render the information on the index.html page. Both of these POST request functions are also called in the `window.onload()` function in the event that the associated button is pressed: the add_button triggers `add()` and the remove_button triggers `remove()`.<br>
&nbsp; [2] The POST and GET handlers in the server-side JS file. `handlePost()` takes and validates the user input for either an add or modify request via `add()`. Then the function changes the appdata array accordingly to reflect the results of the user request. `handleGet()` fetches the appdata array from the server and then sends it back to the client through the `receive()` function.<br>
&nbsp; [3] The asynchronous GET request function in the client-side JS file. `receive()` sends a GET requests to the server and awaits the response while the server-side `handleGet()` function fetches the appdata array.<br>
&nbsp; [4] The function in the client-side JS that builds the HTML table. `constructTable()` calls `receive()` to fetch the most current version of the appdata array and then constructs the table entry-by-entry. The function maps each array element to HTML data using table tags `<tr>` and `<td>`. This function is called in the `window.onload()` function to refresh the table when the page is refreshed or opened. This function is also called at the end of the `add()` and `remove()` functions to update the display with the changed data.

This achievement was very challenging to implement, as I had to experiment with rendering the table after `onmouseover()` and `onmouseenter()` events before I could fully grasp how to render the table without manual interaction from the user. It was only after I included the `constructTable()` calls in both the `window.onload()` function and both POST request functions that I was able to get it working.
- **Modify Functionality**: The site implements a `Modify Part` functionality through the `add()` function. An explanation of how to use the function is in the general summary part of this README. In order to separate the add and modify requests while still using the same client-side JS function, I added a condition to my server `handlePost()` function to determine whether the **Part Name** entered was already in appdata. If the name is not in appdata, the function calls `push()` to add a new entry. If the name is in appdata, the function calls `splice(entry_index, 1, new_entry)` to replace the old entry with the new fields. My function that searches for the **Part Name** in appdata is called `indexOfPartName()` and operates like the native `indexOf()` function except it uses a single field instead of the entire element to identify a matching array index.

I believe that a separate modify_button would have been much easier to implement than the combination button I used to support the `Modify` functionality. However, my choice to combine the functionalities into a single button eliminates a lot of repetition (querying and sending the same fields) that would occur with two separate buttons/POST functions, so I believe the feature was worth the added implementation challenge.

---
### Design/Evaluation Achievements
- **UX Testing and Evaluation**: I tested my UX with two students in the CS4241 class:
    - [Student 1: **Ni**]<br>
    &nbsp; [1]: Student 1 did not like that they had to erase the value  of each input field before entering their own information. They suggested that I find a way to put the default text for each field in the background of the input box.<br>
    &nbsp; [2]: A comment that this student made that surprised me was that they did not know what to do when their entered input did not update the table. The reason their input was failing was because they had left the default text in the **Quantity** and **Weight per Unit** fields; the default text is not numeric so the input was not passing the validation check. I had assumed that users would not have trouble with validation for those fields because of what the default values said, but I realize now that it would be helpful to add instructions on the permitted data types for the numeric fields.<br>
    &nbsp; [3]: Based on this student's feedback, I would first change the **value** fields for my `<input>` data to **placeholder** so that the default text does not have to be cleared before writing. I learned about this feature when the student suggested I check it out. I would next add in explicit instructions about the type of data that needs to be entered in **Quantity** and **Weight per Unit** fields so that users are not confused as to why the table isn't updated if they type something like 0.3lbs instead of 0.3. Finally, I would add in an error message or alert to let the user know when their input did not pass validation so they know that there is an issue with their entered text.
    - [Student 2: **Rebello**]<br>
    &nbsp; [1]: Student 1 did not like that they had to erase the value  of each input field before entering their own information. They suggested that I find a way to put the default text for each field in the background of the input box. This design problem is the same problem that the first student had, so I feel that this is an important design choice for me to revise/address.<br>
    &nbsp; [2]: A comment that this student made that surprised me was that their images did not load very fast on glitch when they went to my site. I was surprised by this because the images would always load almost immediately on my machine (localhost). 
    ![alt text](https://cdn.glitch.global/f28ad010-65c7-4799-96f7-31a28924a31d/image_loading_issues.png?v=1711329049001)
    This is an image of the student's display when they reloaded my site (after deleting all the table entries). The student suggested that I decrease the base size of the image files to try and prevent loading issues. I tried testing this afterwards on glitch and found that the student was right, though I had not noticed this until the student directly pointed it out. 0.5s time for loading images is something I overlooked initially.<br>
    &nbsp; [3]: Based on this student's feedback, I am going to switch the **value** fields for my `<input>` data to **placeholder**. Now that two students have both had the same issues with my site, I feel that it is important to change this before final deployment. I also would look into ways to prevent slow image loading when the site is loaded/refreshed. At first I was not entirely sure what was causing this on glitch, but after I looked into it I found that it takes much less time to load images if they are uploaded as assets on glitch (and changed this for my site). Finally, while not a complaint, the student was able to enter a gigantic number into the numeric fields on my site. It may be worth implementing a cap on the input as a further validation check to cover another entry edge case (others I've covered already include 0 and negative numbers).